<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
		>
<channel>
	<title>Comments on: Mémoization d&#8217;une fonction Python</title>
	<atom:link href="http://sametmax.com/memoization-dune-fonction-python/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com/memoization-dune-fonction-python/</link>
	<description>Deux développeurs en vadrouille qui se sortent les doigts du code</description>
	<lastBuildDate>Wed, 05 Feb 2014 12:15:31 +0000</lastBuildDate>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.3.1</generator>
	<item>
		<title>By: Tiger-222</title>
		<link>http://sametmax.com/memoization-dune-fonction-python/#comment-15359</link>
		<dc:creator>Tiger-222</dc:creator>
		<pubDate>Fri, 01 Nov 2013 16:05:25 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=1223#comment-15359</guid>
		<description>@kontre : Ah ok, merci pour les explications :)</description>
		<content:encoded><![CDATA[<p>@kontre : Ah ok, merci pour les explications :)</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: kontre</title>
		<link>http://sametmax.com/memoization-dune-fonction-python/#comment-15334</link>
		<dc:creator>kontre</dc:creator>
		<pubDate>Thu, 31 Oct 2013 14:56:52 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=1223#comment-15334</guid>
		<description>&lt;span class=&quot;plusun&quot;&gt;&lt;/span&gt;@Tiger: Pas dans ton cas, puisque tu repasses un nouveau dictionnaire à chaque appel de fonction. Dans ta ligne tu ne déclare pas la fonction, tu l&#039;utilises !
En déclarant le dictionnaire avant, tu utilises bien toujours le même et ça marche.

Tu devrais avoir un truc plutôt comme ça:
&lt;pre lang=&quot;python&quot;&gt;def fonction_super_lente(n, _resultats={}):
    # bal bla bla

data = [fonction_super_lente(n) for n in range(10000)]&lt;/pre&gt;

Au passage, depuis python3.2 il y a un cache dans la lib standard: functools.lru_cache. Dans quelques années ça sera être un standard, qui sait ? En attendant une version compatible pour python &lt; 3.2 est là: http://code.activestate.com/recipes/578078-py26-and-py30-backport-of-python-33s-lru-cache/</description>
		<content:encoded><![CDATA[<p><span class="plusun"></span>@Tiger: Pas dans ton cas, puisque tu repasses un nouveau dictionnaire à chaque appel de fonction. Dans ta ligne tu ne déclare pas la fonction, tu l&#8217;utilises !<br />
En déclarant le dictionnaire avant, tu utilises bien toujours le même et ça marche.</p>
<p>Tu devrais avoir un truc plutôt comme ça:</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">def</span> fonction_super_lente<span style="color: black;">&#40;</span>n, _resultats=<span style="color: black;">&#123;</span><span style="color: black;">&#125;</span><span style="color: black;">&#41;</span>:
    <span style="color: #808080; font-style: italic;"># bal bla bla</span>
&nbsp;
data = <span style="color: black;">&#91;</span>fonction_super_lente<span style="color: black;">&#40;</span>n<span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">for</span> n <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">range</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">10000</span><span style="color: black;">&#41;</span><span style="color: black;">&#93;</span></pre></div></div>

<p>Au passage, depuis python3.2 il y a un cache dans la lib standard: functools.lru_cache. Dans quelques années ça sera être un standard, qui sait ? En attendant une version compatible pour python < 3.2 est là: <a href="http://code.activestate.com/recipes/578078-py26-and-py30-backport-of-python-33s-lru-cache/" rel="nofollow">http://code.activestate.com/recipes/578078-py26-and-py30-backport-of-python-33s-lru-cache/</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Tiger-222</title>
		<link>http://sametmax.com/memoization-dune-fonction-python/#comment-15329</link>
		<dc:creator>Tiger-222</dc:creator>
		<pubDate>Thu, 31 Oct 2013 10:14:25 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=1223#comment-15329</guid>
		<description>Une question maître !
Lorsque tu dis &quot;&lt;em&gt;les paramètres sont initialisés à la déclaration en Python, et une seule fois&lt;/em&gt;&quot;, cela est-il vrai aussi dans ce cas là ?
&lt;pre lang=&quot;python&quot;&gt;data = [fonction_super_lente(n, _resultats={}) for n in range(10000)]&lt;/pre&gt;

J&#039;ai mis en &lt;a href=&quot;https://tiger-222.fr/index.php?d=2013/10/31/00/01/57-python-memoisation&quot; rel=&quot;nofollow&quot;&gt;place ce système&lt;/a&gt; pour le module MSS, et il s&#039;avère que ça a plombé le bousin.
Par contre, en déclarant &lt;code&gt;resultats&lt;/code&gt; juste avant la fonction, j&#039;ai pu constater une amélioration flagrante.

Sinon, merci pour l&#039;article ;)</description>
		<content:encoded><![CDATA[<p>Une question maître !<br />
Lorsque tu dis &#8220;<em>les paramètres sont initialisés à la déclaration en Python, et une seule fois</em>&#8220;, cela est-il vrai aussi dans ce cas là ?</p>

<div class="wp_syntax"><div class="code"><pre class="python" style="font-family:monospace;">data = <span style="color: black;">&#91;</span>fonction_super_lente<span style="color: black;">&#40;</span>n, _resultats=<span style="color: black;">&#123;</span><span style="color: black;">&#125;</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">for</span> n <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #008000;">range</span><span style="color: black;">&#40;</span><span style="color: #ff4500;">10000</span><span style="color: black;">&#41;</span><span style="color: black;">&#93;</span></pre></div></div>

<p>J&#8217;ai mis en <a href="https://tiger-222.fr/index.php?d=2013/10/31/00/01/57-python-memoisation" rel="nofollow">place ce système</a> pour le module MSS, et il s&#8217;avère que ça a plombé le bousin.<br />
Par contre, en déclarant <code>resultats</code> juste avant la fonction, j&#8217;ai pu constater une amélioration flagrante.</p>
<p>Sinon, merci pour l&#8217;article ;)</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Max</title>
		<link>http://sametmax.com/memoization-dune-fonction-python/#comment-773</link>
		<dc:creator>Max</dc:creator>
		<pubDate>Mon, 23 Jul 2012 23:00:34 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=1223#comment-773</guid>
		<description>non justement je viens juste de régler l&#039;opacity :)
Là ils devraient permettre de voir correctement ce qu&#039;il y a dessous.

Ayant une vision supermanesque j&#039;avais complètement oublié que les mortels que vous êtes ne pouvaient voir ce qui était écrit en dessous de ces merveilleux petits tampounets...

Pensez à faire un F5</description>
		<content:encoded><![CDATA[<p>non justement je viens juste de régler l&#8217;opacity :)<br />
Là ils devraient permettre de voir correctement ce qu&#8217;il y a dessous.</p>
<p>Ayant une vision supermanesque j&#8217;avais complètement oublié que les mortels que vous êtes ne pouvaient voir ce qui était écrit en dessous de ces merveilleux petits tampounets&#8230;</p>
<p>Pensez à faire un F5</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Réchèr</title>
		<link>http://sametmax.com/memoization-dune-fonction-python/#comment-772</link>
		<dc:creator>Réchèr</dc:creator>
		<pubDate>Mon, 23 Jul 2012 22:38:19 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=1223#comment-772</guid>
		<description>&lt;span class=&quot;merci&quot;&gt;&lt;/span&gt;Ouahou, j&#039;ai toujours fait ce genre de truc manuellement, sans penser que y&#039;en a qui y aurait réfléchi dessus avec un vrai cerveau.

Penser à remplacer le &quot;if&quot; par un &quot;if not&quot; dans la version avec attribut. Sinon y&#039;a pas que votre collègue qui va vous demander WTF, y&#039;a l&#039;interpréteur python aussi.

À part ça, les tampons, c&#039;est top feng shui, mais des fois ça cache le texte. Peut-être que vous vous en êtes aperçus et que vous préférez le laisser comme ça, parce que ça fait artiste.

&quot;Ouuaaaiis t&#039;vois, l&#039;important, c&#039;est pas les caractères, mec. C&#039;est ce qu&#039;ils veulent dire au fond d&#039;eux mêmes, t&#039;vois.&quot;</description>
		<content:encoded><![CDATA[<p><span class="merci"></span>Ouahou, j&#8217;ai toujours fait ce genre de truc manuellement, sans penser que y&#8217;en a qui y aurait réfléchi dessus avec un vrai cerveau.</p>
<p>Penser à remplacer le &#8220;if&#8221; par un &#8220;if not&#8221; dans la version avec attribut. Sinon y&#8217;a pas que votre collègue qui va vous demander WTF, y&#8217;a l&#8217;interpréteur python aussi.</p>
<p>À part ça, les tampons, c&#8217;est top feng shui, mais des fois ça cache le texte. Peut-être que vous vous en êtes aperçus et que vous préférez le laisser comme ça, parce que ça fait artiste.</p>
<p>&#8220;Ouuaaaiis t&#8217;vois, l&#8217;important, c&#8217;est pas les caractères, mec. C&#8217;est ce qu&#8217;ils veulent dire au fond d&#8217;eux mêmes, t&#8217;vois.&#8221;</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: ObnoxiousJul</title>
		<link>http://sametmax.com/memoization-dune-fonction-python/#comment-738</link>
		<dc:creator>ObnoxiousJul</dc:creator>
		<pubDate>Sat, 21 Jul 2012 22:21:36 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=1223#comment-738</guid>
		<description>Ça raconte surtout comment je m&#039;ai fail comme le noob que je suis. 

Avant d&#039;optimiser, faut bien mesurer le gain que l&#039;on souhaite, et faire gaffe aux propriétés des fonctions que l&#039;on cache. 

Sinon, j&#039;insiste beaker.cache c&#039;est la solution costard, cravatte, canne et monocle. Ai je précisé que comme repoze.lru c&#039;est thread safe? La seule différence entre repoze.lru et beaker.cache c&#039;est pour beaker il y avait pas besoin de soumettre un patch pour qu&#039;elle soit complète.</description>
		<content:encoded><![CDATA[<p>Ça raconte surtout comment je m&#8217;ai fail comme le noob que je suis. </p>
<p>Avant d&#8217;optimiser, faut bien mesurer le gain que l&#8217;on souhaite, et faire gaffe aux propriétés des fonctions que l&#8217;on cache. </p>
<p>Sinon, j&#8217;insiste beaker.cache c&#8217;est la solution costard, cravatte, canne et monocle. Ai je précisé que comme repoze.lru c&#8217;est thread safe? La seule différence entre repoze.lru et beaker.cache c&#8217;est pour beaker il y avait pas besoin de soumettre un patch pour qu&#8217;elle soit complète.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/memoization-dune-fonction-python/#comment-737</link>
		<dc:creator>Sam</dc:creator>
		<pubDate>Sat, 21 Jul 2012 17:47:11 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=1223#comment-737</guid>
		<description>Excellent article. Le benchmarking est toujours un exercice trollesque, mais c&#039;est très bien traité.

Le commentaire de Marius Gedminas à lui tout seul est important.</description>
		<content:encoded><![CDATA[<p>Excellent article. Le benchmarking est toujours un exercice trollesque, mais c&#8217;est très bien traité.</p>
<p>Le commentaire de Marius Gedminas à lui tout seul est important.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: ObnoxiousJul</title>
		<link>http://sametmax.com/memoization-dune-fonction-python/#comment-736</link>
		<dc:creator>ObnoxiousJul</dc:creator>
		<pubDate>Sat, 21 Jul 2012 16:43:54 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=1223#comment-736</guid>
		<description>&lt;span class=&quot;mention&quot;&gt;&lt;/span&gt;Si vous voulez voir un comparatif de caches: &lt;a href=&quot;http://beauty-of-imagination.blogspot.fr/2012/06/lost-in-cache-optimization.html&quot; rel=&quot;nofollow&quot;&gt;récit d&#039;un panouillage avec memoize&lt;/a&gt;
J&#039;ai testé pour vous :

* memoize avec dict;
* memoize avec un dict à taille fixe mimine 1.0;
* repoze.lru (LRU) cache à taille fixe et éventuellement à temps d&#039;expiration;
* beaker.cache (fait tout mémoire, disk, memcached, taille fixe...)

À le problème d&#039;un mémoize c&#039;est que si on rappelle la fonction souvent on peut pas vider le cache donc repoze.lru propose un fournisseur de cache nommé que l&#039;on peut vider, qui a mon grand dam n&#039;est pas documenté. 

Si vous voulez le beurre l&#039;argent du beurre, et marier la crémière je conseille beaker.cache.</description>
		<content:encoded><![CDATA[<p><span class="mention"></span>Si vous voulez voir un comparatif de caches: <a href="http://beauty-of-imagination.blogspot.fr/2012/06/lost-in-cache-optimization.html" rel="nofollow">récit d&#8217;un panouillage avec memoize</a><br />
J&#8217;ai testé pour vous :</p>
<p>* memoize avec dict;<br />
* memoize avec un dict à taille fixe mimine 1.0;<br />
* repoze.lru (LRU) cache à taille fixe et éventuellement à temps d&#8217;expiration;<br />
* beaker.cache (fait tout mémoire, disk, memcached, taille fixe&#8230;)</p>
<p>À le problème d&#8217;un mémoize c&#8217;est que si on rappelle la fonction souvent on peut pas vider le cache donc repoze.lru propose un fournisseur de cache nommé que l&#8217;on peut vider, qui a mon grand dam n&#8217;est pas documenté. </p>
<p>Si vous voulez le beurre l&#8217;argent du beurre, et marier la crémière je conseille beaker.cache.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Romain</title>
		<link>http://sametmax.com/memoization-dune-fonction-python/#comment-734</link>
		<dc:creator>Romain</dc:creator>
		<pubDate>Sat, 21 Jul 2012 15:19:02 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=1223#comment-734</guid>
		<description>Sur python 3 il y a aussi le décorateur lru_cache</description>
		<content:encoded><![CDATA[<p>Sur python 3 il y a aussi le décorateur lru_cache</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/memoization-dune-fonction-python/#comment-733</link>
		<dc:creator>Sam</dc:creator>
		<pubDate>Sat, 21 Jul 2012 15:17:52 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=1223#comment-733</guid>
		<description>C&#039;est très sympas ce truc. Ca stoque les infos dans quel format ? Comment ça gère l&#039;accès concurrent ?</description>
		<content:encoded><![CDATA[<p>C&#8217;est très sympas ce truc. Ca stoque les infos dans quel format ? Comment ça gère l&#8217;accès concurrent ?</p>
]]></content:encoded>
	</item>
</channel>
</rss>
