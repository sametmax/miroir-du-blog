<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	
	>
<channel>
	<title>Comments on: La protection CSRF de Django et les requêtes Ajax</title>
	<atom:link href="http://sametmax.com/la-protection-csrf-de-django-et-les-requetes-ajax/feed/" rel="self" type="application/rss+xml" />
	<link>http://sametmax.com/la-protection-csrf-de-django-et-les-requetes-ajax/</link>
	<description>Du code, du cul</description>
	<lastBuildDate>Sat, 07 Nov 2015 11:08:18 +0000</lastBuildDate>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=4.1</generator>
	<item>
		<title>By: loon</title>
		<link>http://sametmax.com/la-protection-csrf-de-django-et-les-requetes-ajax/#comment-55476</link>
		<dc:creator><![CDATA[loon]]></dc:creator>
		<pubDate>Sun, 15 Jun 2014 21:50:17 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=10438#comment-55476</guid>
		<description><![CDATA[Ce n&#039;est pas géré par défault !

Je ne connais pas vraiment Django.
Mais sur Laravel on peu ajouter un jeton csrf sur toutes les routes en post par exemple, en une seule ligne dans le fichier de routing.

Ça doit sûrement exister sur Django.]]></description>
		<content:encoded><![CDATA[<p>Ce n&#8217;est pas géré par défault !</p>
<p>Je ne connais pas vraiment Django.<br />
Mais sur Laravel on peu ajouter un jeton csrf sur toutes les routes en post par exemple, en une seule ligne dans le fichier de routing.</p>
<p>Ça doit sûrement exister sur Django.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/la-protection-csrf-de-django-et-les-requetes-ajax/#comment-49335</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Wed, 11 Jun 2014 14:42:36 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=10438#comment-49335</guid>
		<description><![CDATA[Oui, logique, sinon un mec qui écoute sur la ligne peut récup le truc et le réutiliser.]]></description>
		<content:encoded><![CDATA[<p>Oui, logique, sinon un mec qui écoute sur la ligne peut récup le truc et le réutiliser.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: JEDI_BC</title>
		<link>http://sametmax.com/la-protection-csrf-de-django-et-les-requetes-ajax/#comment-49300</link>
		<dc:creator><![CDATA[JEDI_BC]]></dc:creator>
		<pubDate>Wed, 11 Jun 2014 14:03:56 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=10438#comment-49300</guid>
		<description><![CDATA[@Sam : un token doit être utilisé pour une seule requête et une seule et regénéré ensuite (renvoyé par cookie du retour http)

@geekingfrog : seul l&#039;id de session est stocké dans le cookie (enfin en PHP :p), les informations de la session comprenant le token sont elles stockées sur le serveur. Le but est de mixer le Synchronizer Token Pattern et le Double Submit Pattern pour renforcer encore plus la sécurité (voir mon lien précédent).]]></description>
		<content:encoded><![CDATA[<p>@Sam : un token doit être utilisé pour une seule requête et une seule et regénéré ensuite (renvoyé par cookie du retour http)</p>
<p>@geekingfrog : seul l&#8217;id de session est stocké dans le cookie (enfin en PHP :p), les informations de la session comprenant le token sont elles stockées sur le serveur. Le but est de mixer le Synchronizer Token Pattern et le Double Submit Pattern pour renforcer encore plus la sécurité (voir mon lien précédent).</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/la-protection-csrf-de-django-et-les-requetes-ajax/#comment-49265</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Wed, 11 Jun 2014 13:01:01 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=10438#comment-49265</guid>
		<description><![CDATA[Du coup, pourquoi faire un token en plus ? Pourquoi ne pas juste utiliser l&#039;id de session.]]></description>
		<content:encoded><![CDATA[<p>Du coup, pourquoi faire un token en plus ? Pourquoi ne pas juste utiliser l&#8217;id de session.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: geekingfrog</title>
		<link>http://sametmax.com/la-protection-csrf-de-django-et-les-requetes-ajax/#comment-49257</link>
		<dc:creator><![CDATA[geekingfrog]]></dc:creator>
		<pubDate>Wed, 11 Jun 2014 12:44:04 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=10438#comment-49257</guid>
		<description><![CDATA[Si ça marchait out of the box avec le csrf dans les cookies, ça n&#039;aurait aucune utilitée. Dans ce cas, si l&#039;attaquant te leure pour que tu POST quelque chose sur le domaine visée, ton browser va envoyer les cookies avec. L&#039;idée du token c&#039;est de rajouter une donnée que l&#039;attaquant ne peux pas deviner, donc la requete forgée va échouer.

En bref: les attaques csrf utilisent les cookies pour bypass l&#039;authentication, donc il faut autre chose (un header typiquement).

@Jedi une troisième vérification sur la session??? Si la session est stockée dans un cookie, ça ne sert à rien non plus. Je suis pas sûr de comprendre là.]]></description>
		<content:encoded><![CDATA[<p>Si ça marchait out of the box avec le csrf dans les cookies, ça n&#8217;aurait aucune utilitée. Dans ce cas, si l&#8217;attaquant te leure pour que tu POST quelque chose sur le domaine visée, ton browser va envoyer les cookies avec. L&#8217;idée du token c&#8217;est de rajouter une donnée que l&#8217;attaquant ne peux pas deviner, donc la requete forgée va échouer.</p>
<p>En bref: les attaques csrf utilisent les cookies pour bypass l&#8217;authentication, donc il faut autre chose (un header typiquement).</p>
<p>@Jedi une troisième vérification sur la session??? Si la session est stockée dans un cookie, ça ne sert à rien non plus. Je suis pas sûr de comprendre là.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Paul</title>
		<link>http://sametmax.com/la-protection-csrf-de-django-et-les-requetes-ajax/#comment-49205</link>
		<dc:creator><![CDATA[Paul]]></dc:creator>
		<pubDate>Wed, 11 Jun 2014 11:00:51 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=10438#comment-49205</guid>
		<description><![CDATA[@Sam @JEDI_BC Ok l&#039;idée est donc de le passer dans le header dans un champ spécial donc qui est différent d&#039;une champ de cookie (la version Angular est confusing! Mais je vois avec la version Jquery). Merci!!]]></description>
		<content:encoded><![CDATA[<p>@Sam @JEDI_BC Ok l&#8217;idée est donc de le passer dans le header dans un champ spécial donc qui est différent d&#8217;une champ de cookie (la version Angular est confusing! Mais je vois avec la version Jquery). Merci!!</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: JEDI_BC</title>
		<link>http://sametmax.com/la-protection-csrf-de-django-et-les-requetes-ajax/#comment-49201</link>
		<dc:creator><![CDATA[JEDI_BC]]></dc:creator>
		<pubDate>Wed, 11 Jun 2014 10:53:54 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=10438#comment-49201</guid>
		<description><![CDATA[@Paul : le principe est de vérifier la correspondance du token dans le cookie et du token dans le form ou header (d&#039;où le double dans double submit validation). Une attaque par csrf ne peut pas altérer les 2. On peut aussi ajouter une troisième vérification avec le token en session si on gère une session bien sur.]]></description>
		<content:encoded><![CDATA[<p>@Paul : le principe est de vérifier la correspondance du token dans le cookie et du token dans le form ou header (d&#8217;où le double dans double submit validation). Une attaque par csrf ne peut pas altérer les 2. On peut aussi ajouter une troisième vérification avec le token en session si on gère une session bien sur.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Sam</title>
		<link>http://sametmax.com/la-protection-csrf-de-django-et-les-requetes-ajax/#comment-49150</link>
		<dc:creator><![CDATA[Sam]]></dc:creator>
		<pubDate>Wed, 11 Jun 2014 09:14:41 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=10438#comment-49150</guid>
		<description><![CDATA[@JEDI_BC: ahhhhhhhhhhhhhhh ok. Merci mec !

@Paul: en fait, ce que JEDI veut dire, c&#039;est que le token doit être présent à la fois dans le cookie ET dans un autre medium pour que le CSRF soit pris en compte. Le cookie ne suffit pas. Si on utilise un formulaire, on envoit le cookie automatiquement, mais il faut aussi le mettre dans un champ input caché. Si on envoie une requête Ajax, on envoit le cookie, mais il faut aussi le foutre dans le header.]]></description>
		<content:encoded><![CDATA[<p>@JEDI_BC: ahhhhhhhhhhhhhhh ok. Merci mec !</p>
<p>@Paul: en fait, ce que JEDI veut dire, c&#8217;est que le token doit être présent à la fois dans le cookie ET dans un autre medium pour que le CSRF soit pris en compte. Le cookie ne suffit pas. Si on utilise un formulaire, on envoit le cookie automatiquement, mais il faut aussi le mettre dans un champ input caché. Si on envoie une requête Ajax, on envoit le cookie, mais il faut aussi le foutre dans le header.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: Paul</title>
		<link>http://sametmax.com/la-protection-csrf-de-django-et-les-requetes-ajax/#comment-49117</link>
		<dc:creator><![CDATA[Paul]]></dc:creator>
		<pubDate>Wed, 11 Jun 2014 07:58:15 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=10438#comment-49117</guid>
		<description><![CDATA[@JEDI_BC, ce que je ne comprend toujours pas (dsl je me sens bête), c&#039;est que:
1) Un cookie devrait être envoyé par défaut dès qu&#039;on fait appel à un url du même domaine du cookie, Ajax ou pas. Donc je suis étonné  et ne pige pas vraiment qu&#039;il faille le rajouter à la main.
2) Mais j&#039;ai compris qu&#039;il faut d&#039;une certaine manière &quot;accéder à ce cookie spécial manuellement&quot;, ce qui suppose que le JS est sur le bon nom de domaine, pour envoyer ce cookie crypté. Ce qui ne peut être fait à partir d&#039;un autre site. Sinon cela serait complètement inutile car il suffirait simplement d&#039;envoyer une requête ajax depuis un site pirate pour effectuer notre opération admin à son insu (puisque les cookies du domaine sont envoyés avec l&#039;appel à ce domaine en ajax) - cf les pubs qui bardent de cookies partout et nous trackent.]]></description>
		<content:encoded><![CDATA[<p>@JEDI_BC, ce que je ne comprend toujours pas (dsl je me sens bête), c&#8217;est que:<br />
1) Un cookie devrait être envoyé par défaut dès qu&#8217;on fait appel à un url du même domaine du cookie, Ajax ou pas. Donc je suis étonné  et ne pige pas vraiment qu&#8217;il faille le rajouter à la main.<br />
2) Mais j&#8217;ai compris qu&#8217;il faut d&#8217;une certaine manière &#8220;accéder à ce cookie spécial manuellement&#8221;, ce qui suppose que le JS est sur le bon nom de domaine, pour envoyer ce cookie crypté. Ce qui ne peut être fait à partir d&#8217;un autre site. Sinon cela serait complètement inutile car il suffirait simplement d&#8217;envoyer une requête ajax depuis un site pirate pour effectuer notre opération admin à son insu (puisque les cookies du domaine sont envoyés avec l&#8217;appel à ce domaine en ajax) &#8211; cf les pubs qui bardent de cookies partout et nous trackent.</p>
]]></content:encoded>
	</item>
	<item>
		<title>By: JEDI_BC</title>
		<link>http://sametmax.com/la-protection-csrf-de-django-et-les-requetes-ajax/#comment-49054</link>
		<dc:creator><![CDATA[JEDI_BC]]></dc:creator>
		<pubDate>Wed, 11 Jun 2014 06:56:56 +0000</pubDate>
		<guid isPermaLink="false">http://sametmax.com/?p=10438#comment-49054</guid>
		<description><![CDATA[@Paul, @Sam : Parce qu&#039;il doit utiliser la méthode de &quot;double submit cookies&quot; pour sa validation et qu&#039;il ne doit pas y avoir le champ token dans les datas ou form que tu envois donc il regarde dans les headers. Pour plus d&#039;infos : https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)_Prevention_Cheat_Sheet#Double_Submit_Cookies]]></description>
		<content:encoded><![CDATA[<p>@Paul, @Sam : Parce qu&#8217;il doit utiliser la méthode de &#8220;double submit cookies&#8221; pour sa validation et qu&#8217;il ne doit pas y avoir le champ token dans les datas ou form que tu envois donc il regarde dans les headers. Pour plus d&#8217;infos : <a href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)_Prevention_Cheat_Sheet#Double_Submit_Cookies" rel="nofollow">https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)_Prevention_Cheat_Sheet#Double_Submit_Cookies</a></p>
]]></content:encoded>
	</item>
</channel>
</rss>
